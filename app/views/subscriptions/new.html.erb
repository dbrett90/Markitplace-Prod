<% provide(:title, 'Subscribe') %>
<div class = "container subscription-overview  mt-4 justify-content-center">
  <section class= "container">
    <div class = "subscription-header pt-2">
      <div class = "row">
        <div class = "col-6 my-auto recipe-header-text align-content-center">
          <h1>Checkout: <%= params[:plan] %> plan </h1>
          <p>This is going to be some sample text until we build a decscription for plan checkout</p>
          <% @plans.each do |plan| %>
            <% if plan.name.downcase == params[:plan].downcase %>
              <%= image_tag plan.thumbnail, class:"img-fluid" %>
            <% end %>
          <% end %>
        </div>
        <div class= "col-6 checkout-header">
          <h1>Shipping Information</h1>
          <%= form_for(:payment-and-shipping, url: subscriptions_path), id: "shipping-information-form" do |f| %>
            <div class="shipping-information">
              <%= f.label :recipient_name, class: 'field-label emphasis' do %>
                <span class = 'field-label emphasis'> Name </span><br>
              <% end %><br>
              <%= f.text_field :recipient_name, class: 'form-control', placeholder: "Name" %><br>
              <%= f.label :street_address_1, class: 'field-label emphasis' do %>
                <span class = 'field-label emphasis'> Street Address 1 </span><br>
              <% end %><br>
              <%= f.text_field :street_address_1, class: 'form-control', placeholder: "Street Address" %><br>
              <%= f.label :street_address_2, class: 'field-label emphasis' do %>
                <span class = 'field-label emphasis'> Street Address (Room/Apt Number) </span><br>
              <% end %><br>
              <%= f.text_field :street_address_2, class: 'form-control', placeholder: "Street Address" %><br>
              <%= f.label :city, class: 'field-label emphasis' do %>
                <span class = 'field-label emphasis'> City </span><br>
              <% end %><br>
              <%= f.text_field :city, class: 'form-control', placeholder: "City" %><br>
              <%= f.label :state, class: 'field-label emphasis' do %>
                <span class = 'field-label emphasis'> State </span><br>
              <% end %><br>
              <%= f.text_field :state, class: 'form-control', placeholder: "State" %><br>
              <%= f.label :zipcode, class: 'field-label emphasis' do %>
                <span class = 'field-label emphasis'> Zipcode </span><br>
              <% end %><br>
              <%= f.number :zipcode, class: 'form-control', placeholder: "Zipcode" %><br>
              <%= f.submit "Save Shipping Info", class: "btn btn-success jumbo-button mt-2" %><br>
            </div>
          <% end %>
          <div class="payment-information">
            <h1>Card Information</h1>
            <%= form_tag subscriptions_path, id: "payment-form" do |form| %>
              <div class="field card-information">
                <label for="card-element" class="label">Enter credit or debit card</label>
                <div id="card-element">
                <!-- A Stripe Element will be inserted here. -->
                </div>
                <br>
      
                <div id="card-errors" role="alert"></div>
      
                <%= hidden_field_tag :plan_id, params[:plan_id] %>
      
                <button class="btn btn-outline-success mt-1">Submit</button>
              </div>
      
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>